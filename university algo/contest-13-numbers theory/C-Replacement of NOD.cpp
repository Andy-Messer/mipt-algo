////////////////////////////////////////////////////////////////////////////////////////////////////
//░▐█▀█▒▐█▀▀█▌▒▐██▄▒▄██▌░▐█▀▀/////▒█▀█▀█▒▐█▀▀█▌/////▒█▀█▀█░▐█░▐█░▐█▀▀///////////////////////////////
//░▐█──▒▐█▄▒█▌░▒█░▒█░▒█░░▐█▀▀/////░░▒█░░▒▐█▄▒█▌/////░░▒█░░░▐████░▐█▀▀///////////////////////////////
//░▐█▄█▒▐██▄█▌▒▐█░░░░▒█▌░▐█▄▄/////░▒▄█▄░▒▐██▄█▌/////░▒▄█▄░░▐█░▐█░▐█▄▄///////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
//░▐█▀█▄─░▄█▀▄─▒▐█▀▀▄▒▐█▒▐▀/////▒▄█▀▀█░▐██░▐█▀█▄░▐█▀▀///////////////////////////////////////////////
//░▐█▌▐█░▐█▄▄▐█▒▐█▒▐█▒▐██▌░/////▒▀▀█▄▄─░█▌░▐█▌▐█░▐█▀▀///////////////////////////////////////////////
//░▐█▄█▀░▐█─░▐█▒▐█▀▄▄▒▐█▒▐▄/////▒█▄▄█▀░▐██░▐█▄█▀░▐█▄▄///////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////+o+/+/-----...--:::///////////////////////////////////////
////////////////////////////////////::++ohss+///+ooooo:`     `...-://///////////////////////////////
/////////////////////////////////:+sdd/` :o.                 `-ohhs+/:://///////////////////////////
////////////////////////////////smdh+` `o:                `.://+yy/oshy+:://////////////////////////
/////////////////////////////:sms-.`  .s.            `:oydmmmmmmmd   `-oyy/::///////////////////////
///////////////////////////:/do` .   :y`           .sdmmmmmmmmmmmd      `:sho:://///////////////////
/////////////////////////:./s.  .   :y`           -dmmmmmmmmmmmmm:         .oho:////////////////////
////////////////////////:`-/       -h`          `ommmmmmmmmmmmmms            -yh////////////////////
///////////////////////:` .   `.  .y`          /dmmmmmmmmmmmmmmm-             `sd///////////////////
//////////////////////:    `/`h/ `s.          ommmmmmmmmmmmmmmmh               `yh://///////////////
/////////////////////:`   .hhyMs -.           /sdmmmmmmh:.....-/                /d+/////////////////
////////////////////:::` `dNhMM/                -dmmmmmd+`                      :ds:////////////////
//////////////////:.:-`   .yNMN``       ``     :dmmmmmmmmdo-                    :dy:////////////////
////////////////:-```     .NMMs--::.`   ``` `-/ymmmmmmmmo::/.                   :dy:////////////////
///////////////:.     `  `.//-``.`...--:--.`   `./ymmmmd`                       /dy:////////////////
///////////////.     .    .-``` .-.....-://:--``   -odms                        +ds:////////////////
/////////////+:      /`  :ys:--o+` ./osyyyyys+-:-`   -hs                        +d+/////////////////
/////////////+       y` .yy:-.:/- `yhhhhhyyyy/ ``-.   .s-                       od//////////////////
///////////:o`       o` :ho`..-`` :hhhhhhhhy:     ..   `+`                      yd-/////////////////
///////////+-        -/ :/.-` ..  ohhhhhyhy-     `:.`   `/                    `+dh-/////////////////
//////////:o          +`  .`   --`-/oyyyys-      /o--    .-                   -dds://///////////////
///////////+        .+so+.      `.:-.-::..  `:////` ``    -.                  `ddo://///////////////
//////////o-    `.--yssshs:`+oo: -/:--.``````````          /`                  ody://///////////////
//////////y    :hhdyydmmmo.`/os: :hhyyso/:.                 +`                 .dd//////////////////
/////////o/    -ddhy-.-++y` ``.` /hhhyhhhs`                 .+                  ody:////////////////
////////:y.    `dhy:     :s`   ..-syhyyhs`             ```   ::                 `hd+////////////////
/////////s      sy:  `  .`/o    ..:oyyhs.         `````       o`                 /dy:///////////////
////////o:      o/  `.`.`++++  `:/-:+oy-  ````````            .+                  yd+///////////////
///////:y`     +/  `.`y/.h`+h/ `/++`:++.-:::-.                 +.                 -dh://////////////
///////++  `..+o...y.+s`y:-h.y- `.---+//:.`                     o                  sd+//////////////
///////o-`yyy+yyhyyhodssd+ys/dh:-.////-``...`````````````````   -:                 .dh://///////////
///////:.`//::://++oosssyyyyydmmm-..........``````               :-                 /do:////////////
/////////:-`    `.`.:.-::--::--..                                 .```               yd/////////////
////////////:-`   .-....:+/://:` `                                                   -ds:///////////
///////////////:-.` `---.-//-// ```                                                   od////////////
///////////////////:-.../-.`::` ````                          `````                   `hy://////////
////////////////////////:os-.`` ````     ```             .-:::::://-    `              :d+//////////
///////////////////////////-   ```        `          .--..                          ``` :y//////////
///////////////////////////:.                     .:-.                               ``  .//////////
////////////////////////////-                   :/-                                        /////////
////////////////////////////.                 .:.                                        `-/////////
///////////////////////////o                                              .........----:////////////
//////////////::--.....``-:                                               ./////////////////////////
/////////:-.`           .     .--`                                        /+////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
#pragma GCC optimize ("O2")
#pragma GCC optimize ("unroll-loops") 
#include <iostream>
#include <vector>
#include <algorithm>
#include <set>
using std::cin;
using std::cout;
using std::vector;
using std::set;
using std::multiset;
typedef long long ll;
typedef size_t st;
typedef vector<bool> vb;
typedef set<ll> sll;
typedef multiset<ll> msll;
typedef vector<ll> vll;
typedef vector<vll> vvll;
typedef vector<sll> vsll;
typedef vector<msll> vmsll;
typedef set<sll> ssll;
#define IOS ios_base::sync_with_stdio(false), cin.tie(0), cout.tie(0);
#define pause_cout "std::cout << "|| ------------------------------------------- ||""
#define mp make_pair
#define pb push_back
#define ff first
#define ss second
#define iter iterator
typedef long long ll;
typedef int ii;
typedef long double ld;
const ll INF = 1e18;
const ll INF_bit = 1e9 - 1;
const ld EPS = 0.000000001;
typedef unsigned long long ull;
typedef std::string str;
#define rfor(i,n) for(int i=n-1;i>=1;--i)
#define all(x) (x).begin(),(x).end()
#define for_0(i,n) for(int i=0;i<n;++i)
#define for_1(i,n) for(int i=1;i<=n;++i)
#define for_2(i,sta,n) for(int i=sta;i<n;++i)
#define for_3(i,sta,n,p) for(int i=sta;i<=n;i+=p)
#define debug(x) std::cerr<<#x<<'='<<(x)<<endl;
#define debugp(x) std::cerr<<#x<<"= {"<<(x.first)<<", "<<(x.second)<<"}"<<endl;
#define debug2(x, y) std::cerr<<"{"<<#x<<", "<<#y<<"} = {"<<(x)<<", "<<(y)<<"}"<<endl;
#define debugv(v) {std::cerr<<#v<<" : ";for (auto x:v) std::cerr<<x<<' ';std::cerr<<endl;}
#define kill(x) return std::cout<<x<<'\n', 0;
#define sum(a)     ( std::accumulate ((a).begin(), (a).end(), 0ll))
#define mine(a)    (*std::min_element((a).begin(), (a).end()))
#define maxe(a)    (*std::max_element((a).begin(), (a).end()))
#define mini(a)    ( std::min_element((a).begin(), (a).end()) - (a).begin())
#define maxi(a)    ( std::max_element((a).begin(), (a).end()) - (a).begin())
#define lowb(a, x) ( std::lower_bound((a).begin(), (a).end(), (x)) - (a).begin())
#define uppb(a, x) ( std::upper_bound((a).begin(), (a).end(), (x)) - (a).begin())

ll gcd(ll a, ll b) {
    if (b < a) std::swap(a, b);
    if (a == 0) return  b;
    return gcd(a, b % a);
}

int main() {
    ll n;
    std::cin >> n;
    vll a(n);
    ll t = 0;
    for (int i = 0; i < n; i++) {
        std::cin >> a[i];
        if (a[i] == 1)
            ++t;
    }
    if (t > 0) {
        std::cout << n - t << std::endl;
        return 0;
    } else {
        vll nod(n);
        ll ans = INF;
        for (int i = 0; i < n - 1; ++i) {
            a[i] = gcd(a[i], a[i + 1]);
            nod[i] = a[i];
            if (a[i] == 1) {
                std::cout << n;
                return 0;
            }
        }
        for (int j = 1; j < n; ++j) {
            for (int i = 0; i < n - j; ++i) {
                if (i + j >= n) break;
                nod[i] = gcd(nod[i], a[i + j]);
                if (nod[i] == 1) {
                    std::cout << n - 1 + j + 1;
                    return 0;
                }
            }
        }
        std::cout << -1;
        return 0;
    }
}